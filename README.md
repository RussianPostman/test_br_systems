Сначала вашу задачу хотел реализовать как часть проекта с REST API, но решил не отходить так далеко от ТЗ и просто реализовал все необходимые элементы и слои в одном файле.  

Для тестового запуска необходимо заполнить окгружение переменными из примера ниже, а так же иметь базу данных Postgres с таблицей из файла table.sql

```
DATABASE_NAME=postgres
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASS=password

LOGIN=**************
PASSVORD=**********
```